<div class="my-16">
  <%= render "railsui/shared/sticky_subhead", title: "Flash messages", subtitle: "Hide notice after delay" %>

  <div class="prose dark:prose-invert mb-6">If you wanted to make use of JavaScript you could hide a notice after some period of time.</div>

<%= doc_label(:javascript) %>

<% content_for :html, flush: true do %>
<div class="flash flash-warning" role="alert">
  <p>...</p>
</div>
<% end %>

<% content_for :erb, flush: true do %>

<% end %>

<% content_for :haml, flush: true do %>

<% end %>

<% content_for :js, flush: true do %>
// app/javascript/application.js
document.addEventListener('turbo:load', () => {
  const flash = document.querySelector('.flash')

  // After 5 seconds use Bootstrap's d-none class to hide the notice.
  setTimeout(() => {
    flash.classList.add('d-none')
  }, 5000)
})
<% end %>
<%= render_snippet(active_tab: "js") %>

<%= doc_label(:stimulus) %>

<% content_for :html, flush: true do %>
<div class="flash flash-warning" role="alert" data-controller="flash">
  <p>...</p>
</div>
<% end %>

<% content_for :erb, flush: true do %>

<% end %>

<% content_for :haml, flush: true do %>

<% end %>

<% content_for :js, flush: true do %>
// app/javascript/controllers/flash_controller.js
import { Controller } from "@hotwired/stimulus"

export default class extends Controller {
  connect() {
    setTimeout(() => {
      this.element.classList.add('d-none');
    }, 5000)
  }
}
<% end %>
  <%= render_snippet(active_tab: "js") %>
</div>
